DirectoryIndex index.php index.html

RewriteEngine On
RewriteBase /webnote/
RewriteRule ^service-worker\.js$ - [L]

# If the request is for a real file or folder, serve it normally
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.php [L,QSA]
RewriteRule ^ - [L]

# Otherwise redirect all to index.php (preserves query string)
RewriteRule ^service-worker\.js$ - [L]
RewriteRule ^ index.php [L,QSA]
